import{_ as C,d as V,u as M,r as v,a as l,c as z,b as t,w as d,v as I,g as s,n as p,f as r,T as h,k as o,R as B,D as m,E as D,l as w,m as R,s as j,x as N}from"./index.62268a27.js";import{I as T}from"./baseline-search.3481aede.js";import{I as A}from"./baseline-close.dfc8d16c.js";import{u as E}from"./articleSearch.7cc43881.js";import"./openDB.477f2690.js";const F={class:"main-search"},L={class:"header-search"},P={class:"container"},H=["onMousedown"],U={class:"slot-placeholder-text"},q=V({__name:"MainSearch",setup(G){const f=M(),n=E(),i=v(null),_=()=>{var a;(a=i.value)==null||a.focus()};let e=v(!1);const g=()=>{e.value=!0},x=()=>{e.value=!0},k=()=>{e.value=!1},b=()=>{var a;n.searchValue="",f.push("/main/search/histories"),(a=i.value)==null||a.blur(),e.value=!1},y=()=>{(()=>{n.searchValue!==""&&f.push("/main/search/suggestions")})()};return(a,u)=>(l(),z("div",F,[t("header",L,[t("div",P,[d(t("input",{ref_key:"search",ref:i,"onUpdate:modelValue":u[0]||(u[0]=c=>s(n).searchValue=c),type:"text",class:p(["edit",{"-transparent":!e.value}]),onFocus:x,onBlur:k,onInput:y},null,34),[[I,s(n).searchValue]]),r(h,{name:"clear"},{default:o(()=>[d(t("div",{class:"slot-clear",onMousedown:D(b,["prevent"])},[r(s(A),{class:"icon1"})],40,H),[[m,e.value]])]),_:1}),t("div",{class:p(["placeholder",{"-shrunken":e.value}]),onClick:g},[r(s(T),{class:"icon"}),r(h,{name:"shrink",onAfterLeave:_},{default:o(()=>[d(t("span",U,"\u641C\u7D22",512),[[m,!e.value]])]),_:1})],2)])]),r(s(B),null,{default:o(({Component:c,route:S})=>[r(h,{name:S.meta.transition3},{default:o(()=>[c?(l(),w(j,{key:0},{default:o(()=>[(l(),w(R(c)))]),_:2},1024)):N("",!0)]),_:2},1032,["name"])]),_:1})]))}});var X=C(q,[["__scopeId","data-v-41f271c7"]]);export{X as default};
