import{_ as C,d as V,u as M,r as v,a as l,c as z,e as t,w as d,v as I,i as s,n as p,h as r,T as h,j as o,R as B,C as m,G as j,k as w,l as R,q as D,s as N}from"./index.ae061ee8.js";import{I as T}from"./baseline-search.3828a43a.js";import{I as A}from"./baseline-close.4e5dc0bb.js";import{u as F}from"./articleSearch.8eaf26fb.js";import"./openDB.477f2690.js";const L={class:"main-search"},P={class:"header-search"},q={class:"container"},E=["onMousedown"],G={class:"slot-placeholder-text"},H=V({__name:"MainSearch",setup(U){const f=M(),n=F(),i=v(null),_=()=>{var a;(a=i.value)==null||a.focus()};let e=v(!1);const g=()=>{e.value=!0},x=()=>{e.value=!0},k=()=>{e.value=!1},b=()=>{var a;n.searchValue="",f.push("/main/search/histories"),(a=i.value)==null||a.blur(),e.value=!1},y=()=>{(()=>{n.searchValue!==""&&f.push("/main/search/suggestions")})()};return(a,u)=>(l(),z("div",L,[t("header",P,[t("div",q,[d(t("input",{ref_key:"search",ref:i,"onUpdate:modelValue":u[0]||(u[0]=c=>s(n).searchValue=c),type:"text",class:p(["edit",{"-transparent":!e.value}]),onFocus:x,onBlur:k,onInput:y},null,34),[[I,s(n).searchValue]]),r(h,{name:"clear"},{default:o(()=>[d(t("div",{class:"slot-clear",onMousedown:j(b,["prevent"])},[r(s(A),{class:"icon1"})],40,E),[[m,e.value]])]),_:1}),t("div",{class:p(["placeholder",{"-shrunken":e.value}]),onClick:g},[r(s(T),{class:"icon"}),r(h,{name:"shrink",onAfterLeave:_},{default:o(()=>[d(t("span",G,"\u641C\u7D22",512),[[m,!e.value]])]),_:1})],2)])]),r(s(B),null,{default:o(({Component:c,route:S})=>[r(h,{name:S.meta.transition3},{default:o(()=>[c?(l(),w(D,{key:0},{default:o(()=>[(l(),w(R(c)))]),_:2},1024)):N("",!0)]),_:2},1032,["name"])]),_:1})]))}});var X=C(H,[["__scopeId","data-v-41f271c7"]]);export{X as default};
